<ion-view title="Sensor Dashboard" hide-back-button="true" cache-view="false" nav-transition="none" id="page17" class="page_width">
  <ion-nav-buttons side="left" class="has-header">
    <button class="button button-icon icon ion-android-close" ng-click="submitExit()"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right" class="has-header">
    <button class="button button-positive icon ion-refresh" ng-click="submitQuery()"></button>
  </ion-nav-buttons>
  <ion-content padding="true" class="has-header">
    <div class="spacer" style="width: 300px; height: 12px;"></div>
    <div id="sensorDashboard-markdown57" style="text-align:center;" class="show-list-numbers-and-dots">
      <p style="color:#387EF5;font-size:18px;">
        <strong> {{ data.devicename }} </strong>
      </p>
    </div>
    <div class="spacer" style="width: 300px; height: 20px;"></div>
    <form id="sensorDashboard-form193" class="list" ng-show="sensors.length > 0">
      <ion-toggle toggle-class="toggle-positive" id="sensorDashboard-toggle19" ng-model="hide_settings" ng-change="changeHideSettings(hide_settings)">Hide settings</ion-toggle>
    </form>
    <form id="sensorDashboard-form168" class="list" ng-show="sensors.length > 0 &amp;&amp; !hide_settings">
      <div id="sensorDashboard-button-bar12" class="button-bar">
        <button id="sensorDashboard-button101" ng-class="{'active': data.activeSection==1}" ng-click="changeSection(1)" class="button button-positive button-small button-block">Values</button>
        <button id="sensorDashboard-button114" ng-class="{'active': data.activeSection==2}" ng-click="changeSection(2)" class="button button-positive button-small button-block">Charts</button>
      </div>
      <label class="item item-input" id="sensorDashboard-input144">
        <span class="input-label">Refresh time (sec)</span>
        <input type="number" placeholder="" ng-model="refresh_time" ng-disabled="refresh_automatically">
      </label>
      <ion-toggle toggle-class="toggle-positive" id="sensorDashboard-toggle14" ng-model="refresh_automatically" ng-change="changeRefresh(refresh_automatically, refresh_time)">Refresh automatically</ion-toggle>
      <button id="sensorDashboard-button126" ng-click="submitDelete()" class="button button-positive button-block">Reset values</button>
    </form>
    <div id="sensorDashboard-markdown311" class="show-list-numbers-and-dots">
      <p style="color:#AAAAAA;font-size:12px;">{{ sensors_counthdr }}</p>
    </div>
    <form id="sensorDashboard-form18" class="list" ng-show="data.activeSection==1">
      <div class="item item-body" id="sensorDashboard-list-item-container9" ng-repeat="sensor in sensors" ng-click="submitViewSensorChart(sensor)">
        <div id="sensorDashboard-markdown305" class="show-list-numbers-and-dots">
          <p style="margin-top:0px;color:#387EF5;font-size:18px;">
            <strong>{{ sensor.sensorname }}</strong>
          </p>
        </div>
        <div id="sensorDashboard-markdown312" class="show-list-numbers-and-dots">
          <p style="margin-top:0px;color:#444444;font-size:10px;">Manufacturer: {{ sensor.manufacturer }}</p>
        </div>
        <div id="sensorDashboard-markdown313" class="show-list-numbers-and-dots">
          <p style="margin-top:0px;color:#444444;font-size:10px;">Model: {{ sensor.model }}</p>
        </div>
        <div id="sensorDashboard-markdown317" class="show-list-numbers-and-dots">
          <p style="margin-top:0px;color:#FFFFFF;font-size:12px;">.</p>
        </div>
        <div id="sensorDashboard-markdown348" class="show-list-numbers-and-dots">
          <p style="margin-top:0px;color:#FFFFFF;font-size:12px;">.</p>
        </div>
        <div id="sensorDashboard-markdown310" style="text-align:center;" class="show-list-numbers-and-dots">
          <p style="margin-top:0px;color:#387EF5;font-size:35px;">
            <strong> {{ sensor.subclass ? sensor.readings.value + " " + sensor.units[0] + " | " + sensor.readings.subclass.value + " " + sensor.units[1] : sensor.readings.value + " " + sensor.units[0] }} </strong>
          </p>

          <p style="color:#387EF5;font-size:35px;"> </p>
        </div>
        <div id="sensorDashboard-markdown314" style="text-align:center;" class="show-list-numbers-and-dots">
          <p style="margin-top:0px;color:#387EF5;font-size:10px;">{{ sensor.subclass ? "Low: " + sensor.readings.lowest + " " + "High: " + sensor.readings.highest + " | " + "Low: " + sensor.readings.subclass.lowest + " " + "High: " + sensor.readings.subclass.highest : "Low: " + sensor.readings.lowest + " "
            + "High: " + sensor.readings.highest }}</p>
        </div>
        <div id="sensorDashboard-markdown346" style="text-align:right;" class="show-list-numbers-and-dots">
          <p style="margin-top:0px;color:#FFFFFF;font-size:10px;">.</p>
        </div>
        <div id="sensorDashboard-markdown118" style="text-align:right;" class="show-list-numbers-and-dots">
          <p style="margin-top:0px;color:#444444;font-size:10px;">Peripheral: {{ sensor.source.toUpperCase() }}{{ sensor.number }} </p>
        </div>
        <div id="sensorDashboard-markdown345" style="text-align:right;" class="show-list-numbers-and-dots">
          <p style="margin-top:0px;color:#444444;font-size:10px;">
            <strong> {{ sensor.subclass ? sensor.class.toUpperCase() + " | " + sensor.subclass.toUpperCase() : sensor.class.toUpperCase() }} </strong>
          </p>
        </div>
      </div>
    </form>
    <form id="sensorDashboard-form167" class="list" ng-show="data.activeSection==2" ng-repeat="sensor in sensors">
      <div id="canvas-holder" style="width:97%; margin:0px 0px 0px 3%;">

        <br>
        <p>
          <b>
            <font size="4" color="#387EF5">
              {{ data.activeSection==2 ? sensor.sensorname: "" }}
            </font>
          </b>
        </p>

        <p>
          <font size="1" color="#444444">
            {{ data.activeSection==2 ? "Manufacturer: " + sensor.manufacturer: "" }}
          </font>

          <br>

          <font size="1" color="#444444">
            {{ data.activeSection==2 ? "Model: " + sensor.model: "" }}
          </font>

          <br>

          <font size="1" color="#444444">
            {{ data.activeSection==2 ? "Peripheral: " + sensor.source.toUpperCase() + "" + sensor.number : "" }}
          </font>

          <br>

          <b>
            <font size="1" color="#444444">
              {{ data.activeSection==2 ? (sensor.subclass ? sensor.class.toUpperCase() + " | " + sensor.subclass.toUpperCase() : sensor.class.toUpperCase()) : "" }}
            </font>
          </b>

          <br>
          <br>

        </p>

        <canvas id="line" class="chart chart-line" chart-colors="sensors_datachart_colors" chart-data="chartData(sensor)" chart-labels="chartLabels(sensor)" chart-options="sensors_datachart_options">
        </canvas>

        <p>
        </p>

      </div>
    </form>
  </ion-content>
</ion-view>