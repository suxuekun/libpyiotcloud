<ion-view title="Compare Charts" hide-back-button="true" nav-transition="none" id="page12" style="background-color:#FFFFFF;" class="page_width_medium">
  <ion-nav-buttons side="left" class="has-header">
    <button class="button button-icon icon ion-android-close" ng-click="close()"></button>
  </ion-nav-buttons>
  <ion-content padding="true" class="has-header">
    <div>
        <div ng-show="currentStep == 0">
          <button id="addGateway-button55"
                  ng-click="compare()"
                  style="width: 40%;margin: auto; margin-top: 20px"
                  ng-style="{'background-color': green}"
                  class="button button-positive button-block">Compare</button>
          <br></br>
          <div ng-repeat="(sensorClass, charts) in dictCharts">
            <h3><strong>{{sensorClass}}</strong></h3>
            <div ng-repeat="chart in charts">
            <div class="card" style="margin-top: 10px; padding: 20px;">
              <div class="dashboard-item-main-column">
                <h4>Name: {{chart.name}}</h4>
                <p>Source: {{chart.source}}</p>
                <p>Number: {{chart.number}}</p>
                <p>Gateway UUID: {{chart.gatewayUUID}}</p>
                <p>Gateway name: {{chart.gatewayName}}</p>
              </div>
              <input type="checkbox" ng-model="chart.selected"
                    style="height: 20px;width: 20px;float: right; margin-top: 30px;">
              </div>
            </div>
          </div>
        </div>

        <div ng-show="currentStep == 1">
            <div class="row">
              <h3 class="col">Realtime</h3>
              <label class="toggle col-90">
                <input type="checkbox" ng-model="isRealTime" ng-change="toggelRealTime()">
                <div class="track">
                  <div class="handle"></div>
                </div>
              </label>
            </div>



            <div class="row">
              <select style="float: left; margin: 30px;"
                      class="col"
                      ng-model="comapareCharts.currentSelectTime"
                      ng-change="updateMinuteUrl(comapareCharts.currentSelectTime.value)"
                      ng-options="filter.name for filter in comapareCharts.selectedTimes">
                        <option value="{{filter.value}}">{{filter.name}}</option>
              </select>
              <select style="float: left; margin: 30px;"
                      class="col"
                      ng-model="comapareCharts.currentSelectedPoints"
                      ng-change="updatePointUrl(comapareCharts.currentSelectedPoints.value)"
                      ng-options="filter.name for filter in comapareCharts.selectedPoints">
                      <option value="{{filter.value}}">{{filter.name}}</option>
              </select>
            </div>

            <div class="row">
              <!--Select Back -->
              <button ng-click="backToHistorical(chart, chart.currentTimespan)"
                      ng-style="{'opacity': opacityOfHistoricalButton}"
                      class="button button-positive button-block button-clear icon-left ion-android-arrow-dropleft widget_button_backward_forward col">
              </button>

              <!--Select Next -->
              <button ng-click="nextToHistorical(chart, chart.currentTimespan)"
                      ng-style="{'opacity': opacityOfHistoricalButton}"
                      class="button button-positive button-block button-clear icon-right ion-android-arrow-dropright widget_button_backward_forward col">
              </button>
            </div>

            <canvas title="Compare"
                    class="chart chart-line"
                    chart-colors="comapareCharts.colors"
                    chart-data="comapareCharts.data"
                    chart-labels="comapareCharts.labels"
                    chart-options="comapareCharts.options"
                    chart-dataset-override="comapareCharts.datasetOverride">
            </canvas>
            <button id="addGateway-button55"
                  ng-click="back()"
                  style="width: 40%;margin: auto; margin-top: 20px"
                  ng-style="{'background-color': green}"
                  class="button button-positive button-block">Back</button>
        </div>
    </div>
  </ion-content>
</ion-view>
